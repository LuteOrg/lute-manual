<!DOCTYPE HTML>
<html lang="en" class="rust sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>MeCab for Japanese - Lute manual</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../css/custom.css">


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "rust";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('rust')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Lute manual</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/LuteOrg/lute-manual/" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <blockquote>
<p>Note: this is for non-Docker users studying Japanese only (or devs who are working on Lute)</p>
</blockquote>
<p>Lute users who are studying Japanese will need to install MeCab and an appropriate dictionary for parsing Japanese text.  If MeCab is not installed or not on your PATH, you will not be able to parse Japanese texts.</p>
<h1 id="installation"><a class="header" href="#installation">Installation</a></h1>
<h2 id="mac"><a class="header" href="#mac">Mac</a></h2>
<p>You can install MeCab and a dictionary using <code>homebrew</code>.</p>
<p>If you don't have homebrew installed, then first <a href="https://brew.sh/">get homebrew</a>.  Then:</p>
<pre><code>brew install mecab
brew install mecab-ipadic
</code></pre>
<h2 id="windows"><a class="header" href="#windows">Windows</a></h2>
<p>The link <a href="https://taku910.github.io/mecab/">https://taku910.github.io/mecab/</a> has a link under Binary package for MS-Windows: mecab-0.996.exe: <a href="https://drive.google.com/uc?export=download&amp;id=0B4y35FiV1wh7WElGUGt6ejlpVXc">ダウンロード</a>.  Verify this link and download.</p>
<p>If your system is 64 bit, or the above MeCab is not working, try downloading from this link instead: <a href="https://github.com/ikegami-yukino/mecab/releases/download/v0.996.2/mecab-64-0.996.2.exe">MeCab 64bit</a></p>
<p>Here's a video on installing MeCab for Lute, kindly put together by a Lute user:</p>
<iframe width="720" height="480"
src="https://www.youtube.com/embed/w8r51mn0ewQ?si=Z6SaV5TvBnKcKPx9">
</iframe>
<p>When installing MeCab, choose the <strong>UTF-8</strong> charset (I'm not sure if another charset will work).</p>
<p>After installation, add the MeCab bin path to the <code>PATH</code> environment variable.  If you don't know how to edit the Environment Variables, see this video: <a href="https://www.youtube.com/watch?v=ow2jROvxyH4">How to Set Environment Variables in Windows 11</a>.  Usually the MeCab bin path as <code>C:\Program Files\MeCab\bin</code>, but it might be <code>C:\Program Files (x86)\MeCab\bin</code> ... <strong>make sure you use the right one!!</strong></p>
<h3 id="verifying-on-windows"><a class="header" href="#verifying-on-windows">Verifying on Windows</a></h3>
<p>To check that your installation and <code>PATH</code> are correct, open up a new command window, and type <code>mecab</code> at the prompt.</p>
<ul>
<li>If anything is wrong, you'll get an error like <code>The term 'mecab' is not recognized</code> or similar.  Fix your PATH and try again.</li>
<li>If you type "mecab" and hit return and nothing happens, then your mecab is actually installed correctly, as mecab is waiting to parse your input.  Hit return, and you should get an "EOS" message -- that's mecab responding with "end of sentence".  Hit Control-C to quit mecab.</li>
</ul>
<h3 id="continuing-on"><a class="header" href="#continuing-on">Continuing on</a></h3>
<p>After installing MeCab, you <em>may</em> need to shut down Lute if it's running, open a new Terminal (command window), and restart Lute, for the PATH changes to take effect.</p>
<h2 id="linux"><a class="header" href="#linux">Linux</a></h2>
<p>Use apt-get:</p>
<pre><code>sudo apt-get update -y
sudo apt-get install -y mecab mecab-ipadic-utf8
</code></pre>
<h1 id="verification"><a class="header" href="#verification">Verification</a></h1>
<p>Test mecab from the terminal:</p>
<pre><code>$ mecab
すもももももももものうち
すもも    名詞,一般,*,*,*,*,すもも,スモモ,スモモ
も    助詞,係助詞,*,*,*,*,も,モ,モ
もも    名詞,一般,*,*,*,*,もも,モモ,モモ
</code></pre>
<h1 id="lute-configuration"><a class="header" href="#lute-configuration">Lute configuration</a></h1>
<p>If everything is installed correctly, you will see a Japanese sample story when you start Lute.  If you <em>don't</em> see that story, then either your MeCab isn't set up correctly, or Lute can't find it.</p>
<p>Lute uses a library called <a href="https://github.com/buruzaemon/natto-py">natto-py</a> that <em>usually</em> finds and uses MeCab automatically.  If it can't, you'll need to specify the path to your MeCab library in Lute's Settings (top right menu bar).  There is a box for you to enter your MeCab path and do a test parse.  If that test succeeds, you're good to go.  If not, jump into the Lute Discord.</p>
<h2 id="sample-mecab_path-values"><a class="header" href="#sample-mecab_path-values">Sample <code>MECAB_PATH</code> values</a></h2>
<blockquote>
<p>The <a href="https://github.com/buruzaemon/natto-py">natto-py</a> gives a few possibilities for the path, which may just be examples and not really valid.</p>
</blockquote>
<div class="table-wrapper"><table><thead><tr><th>System</th><th>MECAB_PATH</th></tr></thead><tbody>
<tr><td>Mac OS</td><td><code>/usr/local/Cellar/mecab/0.996/lib/libmecab.dylib</code></td></tr>
<tr><td>bash on UNIX/Linux</td><td><code>/usr/local/lib/libmecab.so</code></td></tr>
<tr><td>Windows</td><td><code>C:\Program Files\MeCab\bin\libmecab.dll</code></td></tr>
<tr><td>Lute's docker container</td><td><code>/lib/aarch64-linux-gnu/libmecab.so.2</code></td></tr>
<tr><td>Linux Mint</td><td><code>/lib/x86_64-linux-gnu/libmecab.so.2</code></td></tr>
</tbody></table>
</div>
<h2 id="finding-the-mecab-library"><a class="header" href="#finding-the-mecab-library">Finding the mecab library</a></h2>
<blockquote>
<p>These are various notes about finding MeCab, hopefully it will help you find your MeCab library.</p>
</blockquote>
<p>When setting up MeCab in Docker and GitHub, I found the mecab library like this:</p>
<pre><code>which mecab

# make note of the path, then:
ldd &lt;/path/returned/by/which/mecab&gt;
</code></pre>
<p>returned:</p>
<pre><code>linux-vdso.so.1 (0x00007ffd280a8000)
libmecab.so.2 =&gt; /lib/x86_64-linux-gnu/libmecab.so.2 (0x00007f9fe7cdf000)
libc.so.6 =&gt; /lib/x86_64-linux-gnu/libc.so.6 (0x00007f9fe7a00000)
libstdc++.so.6 =&gt; /lib/x86_64-linux-gnu/libstdc++.so.6 (0x00007f9fe7600000)
libm.so.6 =&gt; /lib/x86_64-linux-gnu/libm.so.6 (0x00007f9fe7919000)
/lib64/ld-linux-x86-64.so.2 (0x00007f9fe7dc4000)
libgcc_s.so.1 =&gt; /lib/x86_64-linux-gnu/libgcc_s.so.1 (0x00007f9fe7cbb000)
</code></pre>
<p>For this OS, the correct library was actually <code>libmecab.so.2</code>.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../install/android-using-termux.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../install/plugins.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../install/android-using-termux.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../install/plugins.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
